---
title: "SHEBA/IBAN Validation"
description: "Validate Iranian IBAN (SHEBA) numbers"
icon: "building-columns"
---

# SHEBA/IBAN Validation

Validate Iranian IBAN numbers (SHEBA) and extract bank information.

## Available Functions

- `verifySheba` - Validate SHEBA number
- `getShebaInfo` - Get bank details from SHEBA

## Basic Usage

```typescript
import { verifySheba, getShebaInfo } from '@persian-tools/persian-tools';

// Validate SHEBA
console.log(verifySheba('IR820540102680020817909002'));
// Output: true

// Get bank info
console.log(getShebaInfo('IR820540102680020817909002'));
// Output: { bankName: 'بانک پارسیان', formatted: 'IR82 0540 1026 8002 0817 9090 02' }
```

## API Reference

### verifySheba

Validate an Iranian SHEBA/IBAN number.

<ParamField path="sheba" type="string" required>
  SHEBA number (with or without IR prefix)
</ParamField>

<ResponseField name="result" type="boolean">
  `true` if valid, `false` otherwise
</ResponseField>

```typescript
verifySheba('IR820540102680020817909002');     // true
verifySheba('820540102680020817909002');        // true (without IR)
verifySheba('IR00000000000000000000000000');    // false
```

### getShebaInfo

Extract bank information from a SHEBA number.

<ParamField path="sheba" type="string" required>
  Valid SHEBA number
</ParamField>

<ResponseField name="result" type="object">
  Bank information object

  <Expandable title="properties">
    <ResponseField name="bankName" type="string">
      Bank name in Persian
    </ResponseField>

    <ResponseField name="formatted" type="string">
      Formatted SHEBA with spaces
    </ResponseField>
  </Expandable>
</ResponseField>

## Examples

### Payment Transfer

```typescript
import { verifySheba, getShebaInfo } from '@persian-tools/persian-tools';

const initiateTransfer = (sheba: string, amount: number) => {
  if (!verifySheba(sheba)) {
    throw new Error('شماره شبا نامعتبر است');
  }

  const bankInfo = getShebaInfo(sheba);

  return {
    recipient: bankInfo.formatted,
    bank: bankInfo.bankName,
    amount
  };
};

console.log(initiateTransfer('IR820540102680020817909002', 1000000));
// {
//   recipient: 'IR82 0540 1026 8002 0817 9090 02',
//   bank: 'بانک پارسیان',
//   amount: 1000000
// }
```

### Form Validation

```typescript
import { verifySheba } from '@persian-tools/persian-tools';

const validateShebaInput = (input: string): {
  isValid: boolean;
  error?: string;
} => {
  // Remove spaces and normalize
  const cleaned = input.replace(/\s/g, '').toUpperCase();

  if (!cleaned.startsWith('IR') && cleaned.length !== 24) {
    return {
      isValid: false,
      error: 'شماره شبا باید ۲۶ کاراکتر باشد'
    };
  }

  if (!verifySheba(cleaned)) {
    return {
      isValid: false,
      error: 'شماره شبا نامعتبر است'
    };
  }

  return { isValid: true };
};
```

## Use Cases

<AccordionGroup>
  <Accordion title="Payment Gateway" icon="credit-card">
    Validate recipient accounts:
    ```typescript
    const processPayment = (recipientSheba: string) => {
      if (!verifySheba(recipientSheba)) {
        throw new Error('Invalid SHEBA');
      }
      // Process payment
    };
    ```
  </Accordion>

  <Accordion title="Payroll System" icon="money-check-dollar">
    Validate employee bank accounts:
    ```typescript
    const addEmployeeAccount = (sheba: string) => {
      if (!verifySheba(sheba)) {
        throw new Error('شماره شبا کارمند نامعتبر است');
      }
      return getShebaInfo(sheba);
    };
    ```
  </Accordion>
</AccordionGroup>

## SHEBA Format

Iranian SHEBA numbers follow this format:
- **IR** - Country code
- **2 digits** - Check digits
- **3 digits** - Bank code
- **19 digits** - Account number

Total: 26 characters

## Related Functions

<CardGroup cols={2}>
  <Card title="Card Number Validation" icon="credit-card" href="/utilities/validation/card-number">
    Validate bank card numbers
  </Card>
  <Card title="Bill Validation" icon="file-invoice" href="/utilities/banking/bill">
    Process utility bills
  </Card>
</CardGroup>

## Type Definition

```typescript
interface ShebaInfo {
  bankName: string;
  formatted: string;
}

function verifySheba(sheba: string): boolean;
function getShebaInfo(sheba: string): ShebaInfo;
```

