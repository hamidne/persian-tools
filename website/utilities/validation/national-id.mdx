---
title: "National ID Validation"
description: "Validate and generate Iranian national IDs (کد ملی)"
icon: "id-card"
---

# National ID Validation

Validate and generate Iranian national identification numbers (کد ملی).

## Available Functions

- `verifyIranianNationalId` - Validate a national ID
- `generateRandomNationalId` - Generate a random valid national ID

## Basic Usage

```typescript
import { verifyIranianNationalId, generateRandomNationalId } from '@persian-tools/persian-tools';

// Validate national ID
console.log(verifyIranianNationalId('0499370899'));
// Output: true

console.log(verifyIranianNationalId('1234567890'));
// Output: false

// Generate random valid ID
const randomId = generateRandomNationalId();
console.log(randomId);
// Output: "0491832456" (example)
```

## API Reference

### verifyIranianNationalId

Validate an Iranian national ID using the official algorithm.

<ParamField path="nationalId" type="string" required>
  The 10-digit national ID to validate
</ParamField>

<ResponseField name="result" type="boolean">
  `true` if valid, `false` otherwise
</ResponseField>

```typescript
verifyIranianNationalId('0499370899');  // true
verifyIranianNationalId('0000000000');  // false (invalid pattern)
verifyIranianNationalId('123');         // false (wrong length)
```

### generateRandomNationalId

Generate a random valid Iranian national ID.

<ResponseField name="result" type="string">
  A randomly generated valid 10-digit national ID
</ResponseField>

```typescript
const id1 = generateRandomNationalId(); // "0491832456"
const id2 = generateRandomNationalId(); // "2345678901"
```

## Examples

### Form Validation

```typescript
import { verifyIranianNationalId } from '@persian-tools/persian-tools';

interface ValidationResult {
  isValid: boolean;
  error?: string;
}

const validateNationalId = (id: string): ValidationResult => {
  if (!id || id.length !== 10) {
    return {
      isValid: false,
      error: 'کد ملی باید ۱۰ رقم باشد'
    };
  }

  if (!/^\d+$/.test(id)) {
    return {
      isValid: false,
      error: 'کد ملی فقط باید شامل اعداد باشد'
    };
  }

  if (!verifyIranianNationalId(id)) {
    return {
      isValid: false,
      error: 'کد ملی نامعتبر است'
    };
  }

  return { isValid: true };
};

console.log(validateNationalId('0499370899'));
// { isValid: true }

console.log(validateNationalId('1234567890'));
// { isValid: false, error: 'کد ملی نامعتبر است' }
```

### User Registration

```typescript
import {
  verifyIranianNationalId,
  getPlaceByIranNationalId
} from '@persian-tools/persian-tools';

const registerUser = (nationalId: string, name: string) => {
  if (!verifyIranianNationalId(nationalId)) {
    throw new Error('Invalid national ID');
  }

  const location = getPlaceByIranNationalId(nationalId);

  return {
    name,
    nationalId,
    birthPlace: location
  };
};

const user = registerUser('0499370899', 'علی احمدی');
console.log(user);
// {
//   name: 'علی احمدی',
//   nationalId: '0499370899',
//   birthPlace: { city: '...', province: '...' }
// }
```

### Testing Data Generation

```typescript
import { generateRandomNationalId } from '@persian-tools/persian-tools';

const generateTestUsers = (count: number) => {
  return Array.from({ length: count }, (_, i) => ({
    id: i + 1,
    nationalId: generateRandomNationalId(),
    name: `TestUser${i + 1}`
  }));
};

const testUsers = generateTestUsers(5);
console.log(testUsers);
// [
//   { id: 1, nationalId: '0491832456', name: 'TestUser1' },
//   { id: 2, nationalId: '2345678901', name: 'TestUser2' },
//   ...
// ]
```

### Handling Persian Digits

```typescript
import { verifyIranianNationalId, digitsFaToEn } from '@persian-tools/persian-tools';

const validateWithPersianDigits = (input: string): boolean => {
  // Convert Persian digits to English first
  const englishDigits = digitsFaToEn(input);
  return verifyIranianNationalId(englishDigits);
};

console.log(validateWithPersianDigits('۰۴۹۹۳۷۰۸۹۹'));
// true
```

## Use Cases

<AccordionGroup>
  <Accordion title="KYC Verification" icon="user-check">
    Validate customer identity during registration:
    ```typescript
    const verifyCustomer = (nationalId: string) => {
      if (!verifyIranianNationalId(nationalId)) {
        throw new Error('لطفا کد ملی معتبر وارد کنید');
      }
      // Proceed with verification
    };
    ```
  </Accordion>

  <Accordion title="E-commerce Checkout" icon="shopping-cart">
    Validate billing information:
    ```typescript
    const validateCheckout = (billingInfo: any) => {
      const errors: string[] = [];

      if (!verifyIranianNationalId(billingInfo.nationalId)) {
        errors.push('کد ملی نامعتبر است');
      }

      return errors;
    };
    ```
  </Accordion>

  <Accordion title="Test Data Generation" icon="flask">
    Generate valid test data for development:
    ```typescript
    const mockUsers = Array.from({ length: 100 }, () => ({
      nationalId: generateRandomNationalId(),
      // ... other mock data
    }));
    ```
  </Accordion>
</AccordionGroup>

## Validation Algorithm

The Iranian national ID uses a checksum algorithm:

1. The first 9 digits represent the person's location and sequence number
2. The 10th digit is a check digit calculated from the first 9 digits
3. The check digit is calculated using modulo 11 arithmetic

<Note>
  The function automatically handles leading zeros. For example, "0499370899" is treated correctly.
</Note>

## Common Invalid Patterns

These patterns are always invalid:

```typescript
verifyIranianNationalId('0000000000'); // false - all zeros
verifyIranianNationalId('1111111111'); // false - all same digit
verifyIranianNationalId('2222222222'); // false - all same digit
```

## Related Functions

<CardGroup cols={2}>
  <Card title="Get Place by National ID" icon="location-dot" href="/utilities/validation/place-by-national-id">
    Find birth location from national ID
  </Card>
  <Card title="Legal ID Validation" icon="building" href="/utilities/validation/legal-id">
    Validate Iranian legal entity IDs
  </Card>
  <Card title="Card Number Validation" icon="credit-card" href="/utilities/validation/card-number">
    Validate bank card numbers
  </Card>
</CardGroup>

## Type Definition

```typescript
function verifyIranianNationalId(nationalId: string): boolean;
function generateRandomNationalId(): string;
```

<Tip>
  Always validate national IDs on both client and server side for security.
</Tip>

